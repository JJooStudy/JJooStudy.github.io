---
layout: post
title:  "Text 객체"
author: "JJoo"
comments: true
tags: Javascript
---


> 인프런 웹브라우저 Javascript 강의를 들으면서 정리한 내용입니다. 

## Text 객체

텍스트 객체는 텍스트 노드에 대한 DOM 객체로 CharcterData의 기능을 상속 받는다. 

DOM에서는 공백이나 줄바꿈도 텍스트 노드라는 것을 주의해야 한다.

```html
<p id="target1"><span>Hello world</span></p>
<p id="target2">
	<span>Hello world</span>
</p>
<script>
    var t1 = document.getElementById('target1').firstChild; 
        // t1=<p id="target1"><span>Hello world</span></p>
        console.log(t1.firstChild);
        // 결과 
        // <span>Hello world</span>
        console.log(t1.firstChild.firstChild);
        // 결과 
        // Hello world

    var t2 = document.getElementById('target2').firstChild;
    console.log(t1.firstChild.nodeValue);

    try{
        console.log(t2.firstChild.nodeValue); 
    } catch(e){
        console.log(e);
    }
    console.log(t2.nextSibling.firstChild.nodeValue);
</script>
```

결과 

```
Hello world
TypeError {stack: (...), message: "Cannot read property 'nodeValue' of null"}
Hello world
```

공백조차도 분명히 존재하는 어떠한 객체에 매핑되어 있다. 



### 주요기능

**값 API**

: 텍스트 노드의 값을 가져오는 API

- data

- nodeValue

**조작 API**

: 텍스트 노드를 조작하는 API

- appendData()

- deleteData()

- insertData()

- replaceData()

- subStringData()

**생성 API**

: 텍스트 노드를 생성하는 API

- docuemnt.createTextNode()


#### 값 API 

텍스트 노드(텍스트 객체)는 DOM에서 실질적인 데이터가 저장되는 객체이기 때문에 그 값을 알아내는 것은 매우 중요하다.

따라서 텍스트 노드에는 값과 관련된 여러 기능들이 있는데 일단 가져오는 두개의 API를 알아보자.

- nodeValue

- data

```html
<ul>
	<li id="target">html</li> 
	<li>css</li>
	<li>JavaScript</li>
</ul>
<script>
var t = document.getElementById('target').firstChild;
	// document.getElementById('target') = <li id="target">html</li>
	// document.getElementById('target').firstChild = html : 텍스트 객체
console.log(t.nodeValue);
console.log(t.data);
// 결과
// html
// html
</script>
```

만약 여기서 `t.nodeValue = "abc"` 라고 한다면 위 `t`의 `html`이 `abc`로 변경된다. 


#### 조작 API 

텍스트 노드가 상속 받은 CharacterData 객체는 문자를 제어할 수 있는 다양한 API를 제공한다. 아래는 조작과 관련된 API들의 목록이다.

- appendData() 

: 인자로 전달된 값이 대상의 뒤에 추가된다. 

- deleteData() 

: 첫번째 인자로 전달되는 숫자의 위치에서부터 두번째 인자로 전달되는 숫자의 갯수만큼의 문자가 삭제된다. 

- insertData() 

: 첫번째 인자로 전달되는 숫자의 위치에 두번째 인자로 전달되는 값이 추가된다. 

- replaceData() 

: 첫번째 인자로 전달되는 숫자의 위치에서부터 두번째 인자로 전달되는 숫자의 갯수만큼의 문자가 세번째 인자로 전달되는 값으로 대체된다. 

- substringData() 

: 첫번째 인자로 전달되는 숫자의 위치에서부터 두번째 인자로 전달되는 숫자의 갯수만큼의 문자를 리턴한다. 


```html
<!DOCTYPE html>
<html>
    <head>
        <style>
            #target{
                font-size:77px;
                font-family: georgia;
                border-bottom:1px solid black;
                padding-bottom:10px;
            }
            p{
                margin:5px;
            }
        </style>
    </head>
    <body>
        <p id="target">Cording everybody!</p>
        <p> data : <input type="text" id="datasource" value="JavaScript" /></p>
        <p> start :<input type="text" id="start" value="5" /></p>
        <p> end : <input type="text" id="end" value="5" /></p>
        <p><input type="button" value="appendData(data)" onclick="callAppendData()" />
        <input type="button" value="deleteData(start,end)" onclick="callDeleteData()" />
        <input type="button" value="insertData(start,data)" onclick="callInsertData()" />
        <input type="button" value="replaceData(start,end,data)" onclick="callReplaceData()" />
        <input type="button" value="substringData(start,end)" onclick="callSubstringData()" /></p>
        <script>
        var target = document.getElementById('target').firstChild;
        var data = document.getElementById('datasource');
        var start = document.getElementById('start');
        var end = document.getElementById('end');
        function callAppendData(){
            target.appendData(data.value);
        }
        // 결과 
        // <p id="target">Cording everybody!JavaScript</p>

        function callDeleteData(){
            target.deleteData(start.value, end.value);
        }
        // 결과
        // <p id="target">Cordierybody!</p>

        function callInsertData(){
            target.insertData(start.value, data.value); 
        }
        //결과
        //<p id="target">CordiJavaScriptng everybody!</p>

        function callReplaceData(){
            target.replaceData(start.value, end.value, data.value);
        }
        //결과
        //<p id="target">CordiJavaScripterybody!</p>

        function callSubstringData(){
            alert(target.substringData(start.value, end.value));
        }
        // 결과
        // 'ng ev'를 리턴 
        </script>
    </body>
</html>
```